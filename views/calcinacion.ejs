<!--Cabecera-->
<%- include("template/cabecera", {tituloWeb: ' Horno_Control'}) %>
<!-- Site wrapper -->
<div class="wrapper">

  <header class="main-header">
    <!-- Logo -->
    <a href="#" class="logo">
      <!-- mini logo for sidebar mini 50x50 pixels -->
      <span class="logo-mini"><b>D</b>YS</span>
      <!-- logo for regular state and mobile devices -->
      <span class="logo-lg"><b>Yesal</b>DAYETEN</span>
    </a>
    <!-- Header Navbar: style can be found in header.less -->
    <nav class="navbar navbar-static-top">
      <!-- Sidebar toggle button-->
      <div class="navbar-custom-menu">
        <ul class="nav navbar-nav">
         
          <!-- User Account: style can be found in dropdown.less -->
          <li class="dropdown user user-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <img src="../../img/avatar5.png" class="user-image" alt="User Image">
              <span class="hidden-xs"><%= user.nombre%> </span> _ <span id="UsuariosA" class="hidden-xs"> <%= user.apellidoP %></span> : <span id="UsuariosR" class="hidden-xs"><%= user.rol %> </span> 
            </a>
            <ul class="dropdown-menu">
              <!-- DEsconectar -->
              <li class="user-footer">
                <a href="../desconectar" class="btn btn-primary btn-block btn-flat">Cerrar Sesión</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>
  </header>
  <!--  Barra de navegacion    -->
  <%- include("template/barradenavegacion") %>
  <!-- Contenido de la Pagina  -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">

      <h1>
        Panel de Control Hornos 
        <small>
          <h3>
            Servidor:
            <span id="lblOnline" class="text-success"> Conectado</span>
            <span id="lblOffline" class="text-danger"> Desconecctado</span>
          </h3>
        </small>
      </h1>
     
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="row">
          <div class="col-xs-12 col-md-12">
            <!-- Prueba del nuevo grafico -->
            <div class="box box-primary">
              <div class="box-header with-border">
                <i class="fa fa-bar-chart-o"></i>

                <h3 class="box-title">Temperatura Horno </h3>
                <span  class="text-success">La Temperatura Real de lectura es de :</span> 
                <span id="real_temp" class="p-3 mb-2 bg-info text-white"></span> 

                <div class="box-tools pull-right">
                  <a href="../home">|- Panel de Control -|   </a>
                </div>
              </div>
              <div class="box-body">
                <!-- div del tipo de grafico -->
                
                <h3>  
                  <span  class="text-success">La Temperatura del Horno es de :</span>
                  <span id="show_temp" class="p-3 mb-2 bg-info text-white"></span> 
                  <span class="p-3 mb-2 bg-info text-white"> ºC </span> 
                  <span  class="text-success">: - :</span>
                    <span id="lblTempBaja" class="p-3 mb-2 bg-primary text-white"> Temperatura Baja</span>
                    <span id="lblTempAdecuada" class="p-3 mb-2 bg-success text-white"> Temperatura Adecuada</span>
                    <span id="lblTempAlta" class="p-3 mb-2 bg-warning text-dark"> Temperatura Alta</span>
                    <span id="lblTempPeligro" class="p-5 mb-4 bg-danger text-white"> Peligo - Peligro </span>

                  <span  class="text-success">Hora de lectura:</span> 
                  <span id="show_time" class="p-3 mb-2 bg-success text-white"></span>
                </h3>
                <script src="/socket.io/socket.io.js">
                </script>
                <canvas id="mycanvas" hidden="50" ></canvas>
                <script>
                  const sockets = io();
                  let contador = 0;
                  let limiteinferior = 0;
                  //let limetesuperior = 55;
                  sockets.on('arduino:data', (dataSerial) => {
                    var dataS = dataSerial.value;
                    //grabar todas las temperaturas en tabla TEMP_HORNO
                      //console.log("temperatura: ");
                      //console.log(dataS);
                      if(  dataS > 0 && dataS < 25){
                        //Controlar tiempo segun diagrama de Fluejo Taty
                          lblTempBaja.style.display = '';
                          lblTempAdecuada.style.display = 'none';
                          lblTempAlta.style.display = 'none';
                          lblTempPeligro.style.display = 'none';
                        // console.log("entro a baja"); grabar alerta 
                        }else {
                          if( dataS > 25 && dataS < 45 ){
                            lblTempBaja.style.display = 'none';
                            lblTempAdecuada.style.display = '';
                            lblTempAlta.style.display = 'none';
                            lblTempPeligro.style.display = 'none';
                            //console.log("entro a adecuada");
                          }else{
                            if( dataS > 45 && dataS < 50 ){
                              lblTempBaja.style.display = 'none';
                              lblTempAdecuada.style.display = 'none';
                              lblTempAlta.style.display = '';
                              lblTempPeligro.style.display = 'none';
                              //console.log("entro a Alta");
                            }
                            else{
                              if( dataS > 50 ){
                                lblTempBaja.style.display = 'none';
                                lblTempAdecuada.style.display = 'none';
                                lblTempAlta.style.display = 'none';
                                lblTempPeligro.style.display = '';
                              // console.log("entro a Peligro");
                              }
                            }
                          }
                        }
                    myChart.data.labels.push(contador);
                    myChart.data.datasets.forEach(dataSet => {
                      dataSet.data.push(dataSerial.value * 20 / 1);  //Para supuestos 
                      //dataSet.data.push(dataSerial.value);
                      limiteinferior;
                    });
                    contador++;
                    myChart.update();
                    //console.log(dataS);
                      //
                      var show_time = document.getElementById("show_time");
                      var current_date = new Date();
                      var pretty_time = `${current_date.getHours()}:${current_date.getMinutes()}:${current_date.getSeconds()}`
                      show_time.innerHTML = pretty_time;
                      //
                      show_temp.innerHTML = dataS * 20 / 1;
                      real_temp.innerHTML = dataS;
                      //temperaturaG.innerHTML = dataS;
                      //console.log(dataS);

                  });

                  const ctx = document.getElementById('mycanvas').getContext('2d');
                  const myChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                      labels: [""],
                      datasets: [
                        {
                          label: "Temperatura",
                          //backgroundColor: 'rgb(255, 159, 64)',
                          borderColor: 'rgb(255, 159, 64)',
                          borderWidth: 3, // Ancho del borde
                          //data: [limiteinferior,limiteinferior,450,520,570,600,700,800,700,800,700,750,950,1100,1150],
                          data: [limiteinferior,limiteinferior],
                          fill: '-1',                        
                        },
                        {
                          label: "",
                          backgroundColor: 'rgb(174, 214, 241)',
                          borderColor: 'rgb(93, 173, 226)',
                          data: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                          fill: '1',
                        },
                        {
                          label: "Baja",
                          backgroundColor: 'rgb(174, 214, 241)',
                          borderColor: 'rgb(93, 173, 226)',
                          data: [500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,
                                500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500],
                          fill: '1',
                        },
                        {
                          label: "Adecuada",
                          backgroundColor: 'rgb(171, 235, 198)',
                          borderColor: 'rgb(88, 214, 141)',
                          data: [900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,
                                900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900,900],
                          fill: '-1',
                        },
                        {
                          label: "Alta",
                          backgroundColor: 'rgb(245, 183, 177)',
                          borderColor: 'rgb(236, 112, 99)',
                          data: [1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,
                                1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000],
                          fill: '-1',
                        },
                        {
                          label: "Peligro",
                          backgroundColor: 'rgb(217, 136, 128)',
                          borderColor: 'rgb(192, 57, 43)',
                          data: [1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,
                                1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200,1200],
                          fill: '-1',
                        },
                      ],
                    },
                    options: {
                      ticks: {
                        beginAtZero: true,
                      },
                      animation: false,
                      y: {
                        title: {
                          //display: true,
                          //text: 'Value'
                        },
                        //min: 0,
                        max: 1200,
                        ticks: {
                          // forces step size to be 50 units
                          stepSize: 100,
                        }
                      },
                      x: { // defining min and max so hiding the dataset does not change scale range
                          min: 0,
                          //max: 13,
                          //stepSize: 20,
                      },
                    }
                  });

                </script>
                <!-- Fin div del tipo de grafico -->
              </div>
              <!-- /.box-body-->
            </div>
          </div>
        </div>
      <div class="row">
        <!--Columna del lado izquierdo-->
        <div class="col-md-10">
          <!-- Area chart -->
          <div class="box box-primary">
            <div class="box-header with-border">
              <i class="fa fa-dashboard"></i>
              <h3 class="box-title">Control de Etapa Calcinación</h3>
            </div>
            <form action="../../calcinacion/" method="post">
            <div class="box-body">
                  <!-- Date range -->
                <div class="input-group">
                  <label class="input-group-addon">Fecha de Inicio</label>
                  <input type="date" class="form-control" name="fecha_inicio">
                  <label class="input-group-addon">Hora de Inicio</label>
                  <input type="time" class="form-control" name="hora_inicio">
                </div>
                <br>
                <div class="input-group">
                  <label class="input-group-addon">Fecha de Finalización</label>
                  <input type="date" class="form-control" name="fecha_fin">
                  <label class="input-group-addon">Hora de Finalización</label>
                  <input type="time" class="form-control" name="hora_fin">
                </div>
                <br>
                  <input  name="usuario" type="hidden" value="<%= user.nombre%> ">
                <input  name="usuario" type="hidden" value="<%= user.nombre%> ">
                <div class="box-footer">
                  
                  <button href="../../calcinacion" type="submit" class="btn btn-info pull-right">Registrar</button>
                </div>
            </div>
          </form>
            <!-- /.box-body-->
          </div>
          <!-- /.box -->

        </div>
        <!-- /.columna del lado derecho -->
        <div class="col-md-8">
          <!-- Area chart -->

          <!-- /.box -->

        </div>
      </div>
    </section>
    <!-- /.fin main content -->

  </div>
  <!-- /.content-wrapper -->
  <!-- /.desde el footer al final -->

  <%- include("template/footer") %>

  <!-- Coneccion con el arduino -->
  
  <script src="/socket.io/socket.io.js">
  </script>
  <script src="socket-client.js">
  </script>

  </body>

  </html>